import matplotlib.pyplot as plt
import numpy as np
import pandas as pd

# Assuming `returns` is a DataFrame where each column is an asset class and each row is a time-point.
cumulative_returns = (1 + index_returns).cumprod()

# Convert string dates to datetime objects
events_dates = pd.to_datetime(['9/15/2008', '1/22/2015', '6/23/2016', '3/11/2020', '2/25/2022', '3/10/2023'])
events_labels = ['Lehman Collapse', 'ECB QE Announcement', 'Brexit Vote', 'COVID-19 Pandemic', 'Russia-Ukraine/Fed Hikes', 'SVB Collapse']

plt.figure(figsize=(12, 6))

# Plot cumulative returns for each asset
for asset in index_returns.columns:
    plt.plot(cumulative_returns.index, cumulative_returns[asset], label=asset)

# Highlight events with shaded regions and label them
for date, label in zip(events_dates, events_labels):
    # Shading 30 days post-event
    plt.axvspan(date, date + pd.Timedelta(days=post_days), color='gray', alpha=0.2)
    
    # Getting the maximum value for the vertical position of the label
    y_pos = max(cumulative_returns.loc[date]) + 0.05
    
    # Annotating the event
    plt.text(date, y_pos, label, rotation=45, verticalalignment='bottom', color='black', alpha=0.7)

plt.legend()
plt.title('Cumulative Returns with Key Events Highlighted')
plt.ylabel('Cumulative Return')
plt.show()

import seaborn as sns
import matplotlib.pyplot as plt

# Plotting ROC AUC by asset class
sns.barplot(x=evaluation_data['Asset'], y=evaluation_data['ROC AUC'])

plt.title('ROC AUC by Asset Class')
plt.ylabel('ROC AUC')
plt.xlabel('Asset Class')
plt.xticks(rotation=45, ha='right')
plt.tight_layout()
plt.show()

evaluation_data
